import{S as R,i as W,s as S,k as E,q as B,l as M,m as Y,r as O,h as _,b as P,I as T,T as G,u as H,B as D,f as p,g as J,d as L,t as k,J as X,a6 as $,a as w,c as x,w as K,x as Q,y as V,z as Z,P as ee,n as N,U as te}from"../../../../chunks/index-51a79e1d.js";/* empty css                              */import{M as u}from"../../../../chunks/types-a7d6b754.js";function ne(c){let n,a,r,s;return{c(){n=E("td"),a=B(c[0])},l(e){n=M(e,"TD",{});var i=Y(n);a=O(i,c[0]),i.forEach(_)},m(e,i){P(e,n,i),T(n,a),r||(s=G(n,"click",c[4]),r=!0)},p(e,[i]){i&1&&H(a,e[0])},i:D,o:D,d(e){e&&_(n),r=!1,s()}}}function le(c,n,a){let{value:r}=n,{rowIndex:s}=n,{columnIndex:e}=n,{handleClick:i}=n;const t=()=>i(s,e);return c.$$set=l=>{"value"in l&&a(0,r=l.value),"rowIndex"in l&&a(1,s=l.rowIndex),"columnIndex"in l&&a(2,e=l.columnIndex),"handleClick"in l&&a(3,i=l.handleClick)},[r,s,e,i,t]}class re extends R{constructor(n){super(),W(this,n,le,ne,S,{value:0,rowIndex:1,columnIndex:2,handleClick:3})}}function z(c,n,a){const r=c.slice();return r[9]=n[a],r[11]=a,r}function F(c,n,a){const r=c.slice();return r[12]=n[a],r[14]=a,r}function U(c){let n,a;return n=new re({props:{value:c[12],rowIndex:c[11],columnIndex:c[14],handleClick:c[1]}}),{c(){K(n.$$.fragment)},l(r){Q(n.$$.fragment,r)},m(r,s){V(n,r,s),a=!0},p(r,s){const e={};s&1&&(e.value=r[12]),n.$set(e)},i(r){a||(p(n.$$.fragment,r),a=!0)},o(r){k(n.$$.fragment,r),a=!1},d(r){Z(n,r)}}}function j(c){let n,a,r,s=c[9],e=[];for(let t=0;t<s.length;t+=1)e[t]=U(F(c,s,t));const i=t=>k(e[t],1,1,()=>{e[t]=null});return{c(){n=E("tr");for(let t=0;t<e.length;t+=1)e[t].c();a=w()},l(t){n=M(t,"TR",{});var l=Y(n);for(let o=0;o<e.length;o+=1)e[o].l(l);a=x(l),l.forEach(_)},m(t,l){P(t,n,l);for(let o=0;o<e.length;o+=1)e[o].m(n,null);T(n,a),r=!0},p(t,l){if(l&3){s=t[9];let o;for(o=0;o<s.length;o+=1){const h=F(t,s,o);e[o]?(e[o].p(h,l),p(e[o],1)):(e[o]=U(h),e[o].c(),p(e[o],1),e[o].m(n,a))}for(J(),o=s.length;o<e.length;o+=1)i(o);L()}},i(t){if(!r){for(let l=0;l<s.length;l+=1)p(e[l]);r=!0}},o(t){e=e.filter(Boolean);for(let l=0;l<e.length;l+=1)k(e[l]);r=!1},d(t){t&&_(n),X(e,t)}}}function oe(c){let n,a,r,s=c[0],e=[];for(let t=0;t<s.length;t+=1)e[t]=j(z(c,s,t));const i=t=>k(e[t],1,1,()=>{e[t]=null});return{c(){n=E("table"),a=E("tbody");for(let t=0;t<e.length;t+=1)e[t].c()},l(t){n=M(t,"TABLE",{});var l=Y(n);a=M(l,"TBODY",{});var o=Y(a);for(let h=0;h<e.length;h+=1)e[h].l(o);o.forEach(_),l.forEach(_)},m(t,l){P(t,n,l),T(n,a);for(let o=0;o<e.length;o+=1)e[o].m(a,null);r=!0},p(t,[l]){if(l&3){s=t[0];let o;for(o=0;o<s.length;o+=1){const h=z(t,s,o);e[o]?(e[o].p(h,l),p(e[o],1)):(e[o]=j(h),e[o].c(),p(e[o],1),e[o].m(a,null))}for(J(),o=s.length;o<e.length;o+=1)i(o);L()}},i(t){if(!r){for(let l=0;l<s.length;l+=1)p(e[l]);r=!0}},o(t){e=e.filter(Boolean);for(let l=0;l<e.length;l+=1)k(e[l]);r=!1},d(t){t&&_(n),X(e,t)}}}function q(c,n){const a=Math.floor(n/3),r=n%3;return c[a][r]}function ae(c,n,a){let r;const s=$(),e=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];let i=[[u.EMPTY,u.EMPTY,u.EMPTY],[u.EMPTY,u.EMPTY,u.EMPTY],[u.EMPTY,u.EMPTY,u.EMPTY]],t=!0,l=!1;function o(m,g){i[m][g]==u.EMPTY&&!l&&a(0,i[m][g]=Object.values(u)[Number(t)],i),t=!t}function h(){a(0,i=[[u.EMPTY,u.EMPTY,u.EMPTY],[u.EMPTY,u.EMPTY,u.EMPTY],[u.EMPTY,u.EMPTY,u.EMPTY]]),t=!0,a(3,l=!1)}function b(m){for(let g=0;g<e.length;g++){const[v,C,f]=e[g],d=q(m,v);if(d!=u.EMPTY&&d===q(m,C)&&d===q(m,f))return d}return u.EMPTY}return c.$$.update=()=>{c.$$.dirty&1&&a(4,r=b(i)),c.$$.dirty&16&&a(3,l=r!=u.EMPTY),c.$$.dirty&24&&l===!0&&s("gameWon",{player:r})},[i,o,h,l,r]}class ce extends R{constructor(n){super(),W(this,n,ae,oe,S,{reset:2})}get reset(){return this.$$.ctx[2]}}function se(c){let n,a,r,s,e,i,t,l,o,h=c[1]?"Restart":"Reset",b,m,g,v,C={};return t=new ce({props:C}),c[2](t),t.$on("gameWon",c[3]),{c(){n=E("meta"),a=w(),r=E("h1"),s=B("Tic-Tac-Toe game"),e=w(),i=E("section"),K(t.$$.fragment),l=w(),o=E("button"),b=B(h),this.h()},l(f){const d=ee("svelte-gs0vcz",document.head);n=M(d,"META",{name:!0,content:!0}),d.forEach(_),a=x(f),r=M(f,"H1",{});var y=Y(r);s=O(y,"Tic-Tac-Toe game"),y.forEach(_),e=x(f),i=M(f,"SECTION",{});var I=Y(i);Q(t.$$.fragment,I),l=x(I),o=M(I,"BUTTON",{});var A=Y(o);b=O(A,h),A.forEach(_),I.forEach(_),this.h()},h(){document.title="Tic-Tac-Toe",N(n,"name","description"),N(n,"content","Tic-Tac-Toe game")},m(f,d){T(document.head,n),P(f,a,d),P(f,r,d),T(r,s),P(f,e,d),P(f,i,d),V(t,i,null),T(i,l),T(i,o),T(o,b),m=!0,g||(v=G(o,"click",c[4]),g=!0)},p(f,[d]){const y={};t.$set(y),(!m||d&2)&&h!==(h=f[1]?"Restart":"Reset")&&H(b,h)},i(f){m||(p(t.$$.fragment,f),m=!0)},o(f){k(t.$$.fragment,f),m=!1},d(f){_(n),f&&_(a),f&&_(r),f&&_(e),f&&_(i),c[2](null),Z(t),g=!1,v()}}}function ie(c,n,a){let r,s=!1;function e(l){te[l?"unshift":"push"](()=>{r=l,a(0,r)})}return[r,s,e,l=>{alert(l.detail.player),a(1,s=!0)},()=>{r.reset(),a(1,s=!1)}]}class _e extends R{constructor(n){super(),W(this,n,ie,se,S,{})}}export{_e as default};
