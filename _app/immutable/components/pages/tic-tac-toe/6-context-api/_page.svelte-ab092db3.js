import{a8 as A,a9 as B,S as X,i as O,s as R,k as p,q as S,l as E,m as P,r as q,h as d,b as M,I as T,T as N,u as z,B as $,f as Y,g as ee,d as te,t as y,J as U,a7 as ne,a as v,c as w,w as j,x as H,y as J,z as L,P as re,n as D,U as oe}from"../../../../chunks/index-f624063e.js";/* empty css                              */import{M as f}from"../../../../chunks/types-a7d6b754.js";const Q=Symbol("grid"),le=()=>B(Q),se=a=>{A(Q,a)},V=Symbol("isFinished"),ae=()=>B(V),ce=a=>{A(V,a)},Z=Symbol("isX"),ie=()=>B(Z),ue=a=>{A(Z,a)};function fe(a){let t,o=a[2][a[0]][a[1]]+"",n,i,r;return{c(){t=p("td"),n=S(o)},l(l){t=E(l,"TD",{});var e=P(t);n=q(e,o),e.forEach(d)},m(l,e){M(l,t,e),T(t,n),i||(r=N(t,"click",a[4]),i=!0)},p(l,[e]){e&7&&o!==(o=l[2][l[0]][l[1]]+"")&&z(n,o)},i:$,o:$,d(l){l&&d(t),i=!1,r()}}}function he(a,t,o){let{rowIndex:n}=t,{columnIndex:i}=t,r=le(),l=ae(),e=ie();function s(h,m){r[h][m]==f.EMPTY&&!l&&o(2,r[h][m]=Object.values(f)[Number(e)],r)}const c=()=>s(n,i);return a.$$set=h=>{"rowIndex"in h&&o(0,n=h.rowIndex),"columnIndex"in h&&o(1,i=h.columnIndex)},[n,i,r,s,c]}class de extends X{constructor(t){super(),O(this,t,he,fe,R,{rowIndex:0,columnIndex:1})}}function G(a,t,o){const n=a.slice();return n[8]=t[o],n[10]=o,n}function me(a,t,o){const n=a.slice();return n[8]=t[o],n[12]=o,n}function _e(a){let t,o;return t=new de({props:{rowIndex:a[10],columnIndex:a[12]}}),{c(){j(t.$$.fragment)},l(n){H(t.$$.fragment,n)},m(n,i){J(t,n,i),o=!0},p:$,i(n){o||(Y(t.$$.fragment,n),o=!0)},o(n){y(t.$$.fragment,n),o=!1},d(n){L(t,n)}}}function K(a){let t,o,n,i=Array(3),r=[];for(let l=0;l<i.length;l+=1)r[l]=_e(me(a,i,l));return{c(){t=p("tr");for(let l=0;l<r.length;l+=1)r[l].c();o=v()},l(l){t=E(l,"TR",{});var e=P(t);for(let s=0;s<r.length;s+=1)r[s].l(e);o=w(e),e.forEach(d)},m(l,e){M(l,t,e);for(let s=0;s<r.length;s+=1)r[s].m(t,null);T(t,o),n=!0},p:$,i(l){if(!n){for(let e=0;e<i.length;e+=1)Y(r[e]);n=!0}},o(l){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)y(r[e]);n=!1},d(l){l&&d(t),U(r,l)}}}function ge(a){let t,o,n,i=Array(3),r=[];for(let e=0;e<i.length;e+=1)r[e]=K(G(a,i,e));const l=e=>y(r[e],1,1,()=>{r[e]=null});return{c(){t=p("table"),o=p("tbody");for(let e=0;e<r.length;e+=1)r[e].c()},l(e){t=E(e,"TABLE",{});var s=P(t);o=E(s,"TBODY",{});var c=P(o);for(let h=0;h<r.length;h+=1)r[h].l(c);c.forEach(d),s.forEach(d)},m(e,s){M(e,t,s),T(t,o);for(let c=0;c<r.length;c+=1)r[c].m(o,null);n=!0},p(e,[s]){if(s&0){i=Array(3);let c;for(c=0;c<i.length;c+=1){const h=G(e,i,c);r[c]?(r[c].p(h,s),Y(r[c],1)):(r[c]=K(h),r[c].c(),Y(r[c],1),r[c].m(o,null))}for(ee(),c=i.length;c<r.length;c+=1)l(c);te()}},i(e){if(!n){for(let s=0;s<i.length;s+=1)Y(r[s]);n=!0}},o(e){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)y(r[s]);n=!1},d(e){e&&d(t),U(r,e)}}}function F(a,t){const o=Math.floor(t/3),n=t%3;return a[o][n]}function Te(a,t,o){let n;const i=ne(),r=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];let l=[[f.EMPTY,f.EMPTY,f.EMPTY],[f.EMPTY,f.EMPTY,f.EMPTY],[f.EMPTY,f.EMPTY,f.EMPTY]],e=!0,s=!1;se(l),ce(s),ue(e);function c(){o(1,l=[[f.EMPTY,f.EMPTY,f.EMPTY],[f.EMPTY,f.EMPTY,f.EMPTY],[f.EMPTY,f.EMPTY,f.EMPTY]]),e=!0,o(2,s=!1)}function h(m){for(let _=0;_<r.length;_++){const[b,x,C]=r[_],u=F(m,b);if(u!=f.EMPTY&&u===F(m,x)&&u===F(m,C))return u}return f.EMPTY}return a.$$.update=()=>{a.$$.dirty&2&&o(3,n=h(l)),a.$$.dirty&8&&o(2,s=n!=f.EMPTY),a.$$.dirty&12&&s===!0&&i("gameWon",{player:n})},[c,l,s,n]}class pe extends X{constructor(t){super(),O(this,t,Te,ge,R,{reset:0})}get reset(){return this.$$.ctx[0]}}function Ee(a){let t,o,n,i,r,l,e,s,c,h=a[1]?"Restart":"Reset",m,_,b,x,C={};return e=new pe({props:C}),a[2](e),e.$on("gameWon",a[3]),{c(){t=p("meta"),o=v(),n=p("h1"),i=S("Tic-Tac-Toe game"),r=v(),l=p("section"),j(e.$$.fragment),s=v(),c=p("button"),m=S(h),this.h()},l(u){const g=re("svelte-gs0vcz",document.head);t=E(g,"META",{name:!0,content:!0}),g.forEach(d),o=w(u),n=E(u,"H1",{});var I=P(n);i=q(I,"Tic-Tac-Toe game"),I.forEach(d),r=w(u),l=E(u,"SECTION",{});var k=P(l);H(e.$$.fragment,k),s=w(k),c=E(k,"BUTTON",{});var W=P(c);m=q(W,h),W.forEach(d),k.forEach(d),this.h()},h(){document.title="Tic-Tac-Toe",D(t,"name","description"),D(t,"content","Tic-Tac-Toe game")},m(u,g){T(document.head,t),M(u,o,g),M(u,n,g),T(n,i),M(u,r,g),M(u,l,g),J(e,l,null),T(l,s),T(l,c),T(c,m),_=!0,b||(x=N(c,"click",a[4]),b=!0)},p(u,[g]){const I={};e.$set(I),(!_||g&2)&&h!==(h=u[1]?"Restart":"Reset")&&z(m,h)},i(u){_||(Y(e.$$.fragment,u),_=!0)},o(u){y(e.$$.fragment,u),_=!1},d(u){d(t),u&&d(o),u&&d(n),u&&d(r),u&&d(l),a[2](null),L(e),b=!1,x()}}}function Me(a,t,o){let n,i=!1;function r(s){oe[s?"unshift":"push"](()=>{n=s,o(0,n)})}return[n,i,r,s=>{alert(s.detail.player),o(1,i=!0)},()=>{n.reset(),o(1,i=!1)}]}class ye extends X{constructor(t){super(),O(this,t,Me,Ee,R,{})}}export{ye as default};
