import{S as W,i as C,s as O,k as g,q as B,l as p,m as E,r as R,h,b as T,I as m,T as j,u as G,B as A,K as Y,aa as H,f as b,g as ee,d as te,t as y,J,a7 as ne,a as x,c as w,w as K,x as L,y as Q,z as V,P as re,n as z,U as le}from"../../../../chunks/index-f624063e.js";/* empty css                              */import{M as f}from"../../../../chunks/types-a7d6b754.js";import{w as ae,d as S}from"../../../../chunks/index-9d5997b4.js";const M=ae(Array.from(Array(9).fill(f.EMPTY))),X=S(M,a=>ce(a)),oe=S(X,a=>a!=f.EMPTY),se=S(M,a=>a.filter(t=>t!=f.EMPTY).length),I=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];function ce(a){for(let t=0;t<I.length;t++){const[l,r,c]=I[t],n=a[l];if(n!=f.EMPTY&&n===a[r]&&n===a[c])return n}return f.EMPTY}function ie(a){let t,l=a[1][a[0]]+"",r,c,n;return{c(){t=g("td"),r=B(l)},l(o){t=p(o,"TD",{});var e=E(t);r=R(e,l),e.forEach(h)},m(o,e){T(o,t,e),m(t,r),c||(n=j(t,"click",a[3]),c=!0)},p(o,[e]){e&3&&l!==(l=o[1][o[0]]+"")&&G(r,l)},i:A,o:A,d(o){o&&h(t),c=!1,n()}}}function ue(a,t,l){let r,c,n;Y(a,se,s=>l(4,r=s)),Y(a,M,s=>l(1,c=s)),Y(a,oe,s=>l(5,n=s));let{index:o}=t;function e(s){c[s]==f.EMPTY&&!n&&H(M,c[s]=Object.values(f)[r%2],c)}const i=()=>e(o);return a.$$set=s=>{"index"in s&&l(0,o=s.index)},[o,c,e,i]}class fe extends W{constructor(t){super(),C(this,t,ue,ie,O,{index:0})}}function N(a,t,l){const r=a.slice();return r[4]=t[l],r[6]=l,r}function he(a,t,l){const r=a.slice();return r[4]=t[l],r[8]=l,r}function _e(a){let t,l;return t=new fe({props:{index:a[6]*3+a[8]}}),{c(){K(t.$$.fragment)},l(r){L(t.$$.fragment,r)},m(r,c){Q(t,r,c),l=!0},p:A,i(r){l||(b(t.$$.fragment,r),l=!0)},o(r){y(t.$$.fragment,r),l=!1},d(r){V(t,r)}}}function U(a){let t,l,r,c=Array(3),n=[];for(let o=0;o<c.length;o+=1)n[o]=_e(he(a,c,o));return{c(){t=g("tr");for(let o=0;o<n.length;o+=1)n[o].c();l=x()},l(o){t=p(o,"TR",{});var e=E(t);for(let i=0;i<n.length;i+=1)n[i].l(e);l=w(e),e.forEach(h)},m(o,e){T(o,t,e);for(let i=0;i<n.length;i+=1)n[i].m(t,null);m(t,l),r=!0},p:A,i(o){if(!r){for(let e=0;e<c.length;e+=1)b(n[e]);r=!0}},o(o){n=n.filter(Boolean);for(let e=0;e<n.length;e+=1)y(n[e]);r=!1},d(o){o&&h(t),J(n,o)}}}function de(a){let t,l,r,c=Array(3),n=[];for(let e=0;e<c.length;e+=1)n[e]=U(N(a,c,e));const o=e=>y(n[e],1,1,()=>{n[e]=null});return{c(){t=g("table"),l=g("tbody");for(let e=0;e<n.length;e+=1)n[e].c()},l(e){t=p(e,"TABLE",{});var i=E(t);l=p(i,"TBODY",{});var s=E(l);for(let _=0;_<n.length;_+=1)n[_].l(s);s.forEach(h),i.forEach(h)},m(e,i){T(e,t,i),m(t,l);for(let s=0;s<n.length;s+=1)n[s].m(l,null);r=!0},p(e,[i]){if(i&0){c=Array(3);let s;for(s=0;s<c.length;s+=1){const _=N(e,c,s);n[s]?(n[s].p(_,i),b(n[s],1)):(n[s]=U(_),n[s].c(),b(n[s],1),n[s].m(l,null))}for(ee(),s=c.length;s<n.length;s+=1)o(s);te()}},i(e){if(!r){for(let i=0;i<c.length;i+=1)b(n[i]);r=!0}},o(e){n=n.filter(Boolean);for(let i=0;i<n.length;i+=1)y(n[i]);r=!1},d(e){e&&h(t),J(n,e)}}}function me(a,t,l){let r,c;Y(a,M,e=>l(2,r=e)),Y(a,X,e=>l(1,c=e));const n=ne();function o(){H(M,r=[f.EMPTY,f.EMPTY,f.EMPTY,f.EMPTY,f.EMPTY,f.EMPTY,f.EMPTY,f.EMPTY,f.EMPTY],r)}return a.$$.update=()=>{a.$$.dirty&2&&c!=f.EMPTY&&n("gameWon",{player:c})},[o,c]}class ge extends W{constructor(t){super(),C(this,t,me,de,O,{reset:0})}get reset(){return this.$$.ctx[0]}}function pe(a){let t,l,r,c,n,o,e,i,s,_=a[1]?"Restart":"Reset",k,P,q,D,Z={};return e=new ge({props:Z}),a[2](e),e.$on("gameWon",a[3]),{c(){t=g("meta"),l=x(),r=g("h1"),c=B("Tic-Tac-Toe game"),n=x(),o=g("section"),K(e.$$.fragment),i=x(),s=g("button"),k=B(_),this.h()},l(u){const d=re("svelte-gs0vcz",document.head);t=p(d,"META",{name:!0,content:!0}),d.forEach(h),l=w(u),r=p(u,"H1",{});var v=E(r);c=R(v,"Tic-Tac-Toe game"),v.forEach(h),n=w(u),o=p(u,"SECTION",{});var $=E(o);L(e.$$.fragment,$),i=w($),s=p($,"BUTTON",{});var F=E(s);k=R(F,_),F.forEach(h),$.forEach(h),this.h()},h(){document.title="Tic-Tac-Toe",z(t,"name","description"),z(t,"content","Tic-Tac-Toe game")},m(u,d){m(document.head,t),T(u,l,d),T(u,r,d),m(r,c),T(u,n,d),T(u,o,d),Q(e,o,null),m(o,i),m(o,s),m(s,k),P=!0,q||(D=j(s,"click",a[4]),q=!0)},p(u,[d]){const v={};e.$set(v),(!P||d&2)&&_!==(_=u[1]?"Restart":"Reset")&&G(k,_)},i(u){P||(b(e.$$.fragment,u),P=!0)},o(u){y(e.$$.fragment,u),P=!1},d(u){h(t),u&&h(l),u&&h(r),u&&h(n),u&&h(o),a[2](null),V(e),q=!1,D()}}}function Te(a,t,l){let r,c=!1;function n(i){le[i?"unshift":"push"](()=>{r=i,l(0,r)})}return[r,c,n,i=>{alert(i.detail.player),l(1,c=!0)},()=>{r.reset(),l(1,c=!1)}]}class Ye extends W{constructor(t){super(),C(this,t,Te,pe,O,{})}}export{Ye as default};
